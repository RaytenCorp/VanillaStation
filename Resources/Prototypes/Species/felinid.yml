# TODO: Add descriptions (many)
# TODO BODY: Part damage
- type: entity
  id: PartFelinid 
  parent: [BaseItem, BasePart]
  name: "Felinid body part"
  abstract: true
  components:
  - type: Extractable
    juiceSolution:
      reagents:
      - ReagentId: Fat
        Quantity: 3
      - ReagentId: Blood
        Quantity: 10
#--------------------------------------------------------------------
#--------------------------Тело--------------------------------------
- type: body
  name: "Felinid"
  id: Felinid
  root: torso
  slots:
    head:
      part: HeadHuman
      connections:
      - torso
      organs:
        brain: OrganHumanBrain
        eyes: OrganHumanEyes
    torso:
      part: TorsoHuman
      organs:
        heart: OrganAnimalHeart
        lungs: OrganHumanLungs
        stomach: OrganVulpkaninStomach 
        liver: OrganAnimalLiver
        kidneys: OrganHumanKidneys
      connections:
      - right arm
      - left arm
      - right leg
      - left leg
    right arm:
      part: RightArmHuman
      connections:
      - right hand
    left arm:
      part: LeftArmHuman
      connections:
      - left hand
    right hand:
      part: RightHandHuman
    left hand:
      part: LeftHandHuman
    right leg:
      part: RightLegHuman
      connections:
      - right foot
    left leg:
      part: LeftLegHuman
      connections:
      - left foot
    right foot:
      part: RightFootHuman
    left foot:
      part: LeftFootHuman
     
#----------------------------------------------------------------------
#---------------------------------Дамаг-Инфо---------------------------
- type: damageModifierSet
  id: Felinid 
  coefficients:
    Cold: 0.9
    Heat: 1.1
#----------------------------------------------------------------------
#------------------------ВЫБОР-В-СПЕЦИАЛЬНОМ---------------------------   Доделать и переделать надо!
- type: marking
  id: CatEarsFelinid
  bodyPart: HeadTop
  markingCategory: HeadTop
  speciesRestriction: [FelinidSpec, Human]
  sponsorOnly: false # Corvax-Sponsors
  coloring:
    default:
      type:
        !type:CategoryColoring
          category: Hair
      fallbackTypes:
        - !type:SkinColoring
    layers:
      ears_cat_inner:
        type:
          !type:SimpleColoring
            color: "#FFFFFF"
  sprites:
  - sprite: Mobs/Customization/cat_parts.rsi
    state: ears_cat_outer
  - sprite: Mobs/Customization/cat_parts.rsi
    state: ears_cat_inner

- type: marking
  id: CatTailFelinid
  bodyPart: Tail
  markingCategory: Tail
  speciesRestriction: [FelinidSpec, Human]
  sponsorOnly: false # Corvax-Sponsors
  coloring:
    default:
      type:
        !type:CategoryColoring
          category: Hair
      fallbackTypes:
        - !type:CategoryColoring
          category: FacialHair
        - !type:SkinColoring
  sprites:
  - sprite: Mobs/Customization/cat_parts.rsi
    state: tail_cat_wag # Corvax-Sponsors
    
- type: marking
  id: CatEarsStubbyFelinid
  bodyPart: HeadTop
  markingCategory: HeadTop
  speciesRestriction: [FelinidSpec, Human]
  sponsorOnly: false # Corvax-Sponsors
  coloring:
    default:
      type:
        !type:CategoryColoring
        category: Hair
      fallbackTypes:
        - !type:SkinColoring
    layers:
      ears_cat_inner:
        type:
          !type:SimpleColoring
          color: "#FFFFFF"
  sprites:
  - sprite: Corvax/Mobs/Customization/cat_parts.rsi
    state: ears_stubby_outer
  - sprite: Corvax/Mobs/Customization/cat_parts.rsi
    state: ears_stubby_inner

- type: marking
  id: CatEarsCurledFelinid
  bodyPart: HeadTop
  markingCategory: HeadTop
  speciesRestriction: [FelinidSpec, Human]
  sponsorOnly: false # Corvax-Sponsors
  coloring:
    default:
      type:
        !type:CategoryColoring
        category: Hair
      fallbackTypes:
        - !type:SkinColoring
    layers:
      ears_cat_inner:
        type:
          !type:SimpleColoring
          color: "#FFFFFF"
  sprites:
  - sprite: Corvax/Mobs/Customization/cat_parts.rsi
    state: ears_curled_outer
  - sprite: Corvax/Mobs/Customization/cat_parts.rsi
    state: ears_curled_inner

- type: marking
  id: CatEarsTornFelinid
  bodyPart: HeadTop
  markingCategory: HeadTop
  speciesRestriction: [FelinidSpec, Human]
  sponsorOnly: false # Corvax-Sponsors
  coloring:
    default:
      type:
        !type:CategoryColoring
        category: Hair
      fallbackTypes:
        - !type:SkinColoring
    layers:
      ears_cat_inner:
        type:
          !type:SimpleColoring
          color: "#FFFFFF"
  sprites:
  - sprite: Corvax/Mobs/Customization/cat_parts.rsi
    state: ears_torn_outer
  - sprite: Corvax/Mobs/Customization/cat_parts.rsi
    state: ears_torn_inner

- type: marking
  id: CatTailStripesFelinid
  bodyPart: Tail
  markingCategory: Tail
  speciesRestriction: [FelinidSpec, Human]
  sponsorOnly: false # Corvax-Sponsors
  coloring:
    default:
      type:
        !type:CategoryColoring
        category: Hair
      fallbackTypes:
        - !type:CategoryColoring
          category: FacialHair
        - !type:SkinColoring
  sprites:
    - sprite: Corvax/Mobs/Customization/cat_parts.rsi
      state: tail_cat_wag_stripes_prime
    - sprite: Corvax/Mobs/Customization/cat_parts.rsi
      state: tail_cat_wag_stripes_second
#----------------------------------------------------------------------
#-----------------------------Уристы-----------------------------------       
- type: entity
  save: false
  name: Urist McFeli
  parent: [BaseMobFelinid, BaseMob]
  id: MobFelinid
  components:
    - type: HumanoidAppearance
      species: FelinidSpec
#----------------------------------------------------------------------
#-----------------------------Характеристики-Расы----------------------
- type: entity
  save: false
  name: Urist McFeli
  parent: BaseMobSpeciesOrganic
  id: BaseMobFelinid
  abstract: true
  components:
  # - type: MovementSpeedModifier
  #   baseSprintSpeed: 9
  #   BaseSprintSpeed: 9
  #   sprintSpeedModifier: 10
  # - type: Sprite
  #   layers:
  #   - map: [ "enum.DamageStateVisualLayers.Base" ]
  #   - map: [ "enum.DamageStateVisualLayers.BaseUnshaded" ]
  #     shader: unshaded
  #   - map: [ "head" ]
  # - type: CanEscapeInventory
  # - type: MultiHandedItem
  # - type: Item
  #   size: Huge
  #   Pickup:
  #   BasesistTime: 10
  - type: HumanoidAppearance
    species: FelinidSpec
  - type: Hunger # on 1.5x more
    thresholds:
      Overfed: 250
      Okay: 200
      Peckish: 150
      Starving: 100
      Dead: 0
    baseDecayRate: 0.02
  - type: Thirst # on 1.5x more
    thresholds:
      OverHydrated: 650
      Okay: 500
      Thirsty: 350
      Parched: 200
      Dead: 0
    baseDecayRate: 0.15
  - type: Icon
    sprite: Corvax/Mobs/Species/Vulpkanin/parts.rsi 
    state: full
  - type: Body
    prototype: Felinid 
    requiredLegs: 2
  - type: Inventory
    speciesId: digi
  - type: ContentEye
    targetZoom: "1.125, 1.125"
    maxZoom: "1.125, 1.125"
  - type: FelinidAccent 
  - type: MeleeWeapon   
    animation: WeaponArcClaw    
    soundHit:
      collection: AlienClaw
    damage:
      types:
        Slash: 3
  - type: LightweightDrunk
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: Felinid 
  - type: Respirator
    damage:
      types:
        Asphyxiation: 2.0
    damageRecovery:
      types:
        Asphyxiation: -2.0
  - type: Sprite
    noRot: true
    drawdepth: Mobs
    scale: 0.8, 0.8
  - type: InteractionPopup
    successChance: 1
    interactSuccessString: petting-success-generic
    interactSuccessSound: /Audio/Animals/cat_meow.ogg
    messagePerceivedByOthers: petting-success-generic
  - type: Speech
    allowedEmotes: ['Meow', 'Purring']
  - type: Vocal
    sounds:
      Male: MaleFelinid
      Female: FemaleFelinid
      Unsexed: MaleFelinid

- type: entity
  save: false
  name: Urist McHands the felinid
  parent: MobHumanDummy
  id: MobFelinidDummy
  description: A dummy Felinid meant to be used in character setup.
  components:
  - type: Sprite
    scale: 0.8, 0.8
  - type: HumanoidAppearance
    species: FelinidSpec

- type: species
  id: FelinidSpec
  name: Фелинид
  roundStart: true
  sponsorOnly: false
  prototype: MobFelinid
  sprites: MobFelinidSprites
  defaultSkinTone: "#eb943d"
  markingLimits: MobFelinidMarkingLimits
  dollPrototype: MobFelinidDummy
  skinColoration: HumanToned
  youngAge: 27
  oldAge: 50
  maxAge: 65

#спрайт частей тела
- type: speciesBaseSprites
  id: MobFelinidSprites
  sprites:
    Head: MobHumanHead
    Hair: MobHumanoidAnyMarking
    FacialHair: MobHumanoidAnyMarking
    Snout: MobHumanoidAnyMarking
    Chest: MobHumanTorso
    Tail: MobHumanoidAnyMarking  # Хвост
    Eyes: MobHumanoidEyes
    HeadTop: MobHumanoidAnyMarking  # Уши
    LArm: MobHumanLArm
    RArm: MobHumanRArm
    LHand: MobHumanLHand
    RHand: MobHumanRHand
    LLeg: MobHumanLLeg
    RLeg: MobHumanRLeg
    LFoot: MobHumanLFoot
    RFoot: MobHumanRFoot

#маркинг
- type: markingPoints
  id: MobFelinidMarkingLimits
  points:
    Tail: # the cat tail joke
      points: 1 # Corvax-Sponsors
      required: false
      defaultMarkings: [ CatTailFelinid ]
    HeadTop:
      points: 1
      required: false
      defaultMarkings: [ CatEarsFelinid, CyberlimbRArmBishop ]
# # Bishop
# - type: marking
#   id: CyberlimbRArmBishop
#   bodyPart: RArm
#   markingCategory: Arms
#   speciesRestriction: [ Human, Dwarf, Arachnid, FelinidSpec ]
#   sponsorOnly: true
#   coloring:
#     default:
#       type:
#         !type:SimpleColoring
#           color: "#FFFFFF"
#   sprites:
#     - sprite: Corvax/Mobs/Customization/Cyberlimbs/bishop.rsi
#       state: r_arm
#-----------------------------------------
    
#Рандом спец
# - type: weightedRandomSpecies
#   id: SpeciesWeights
#   weights:
#     Human: 5
#     Reptilian: 4
#     SlimePerson: 4
#     Vulpkanin: 4 # Corvax-Vulp
#     Diona: 2
#     Felinid: 3

# Звуки эмоции
- type: emoteSounds
  id: MaleFelinid
  params:
    variation: 0.125
  sounds:
    Scream:
      path: /Audio/Voice/felinidsound/kriks.ogg #кастом крик
    Laugh:
      collection: MaleLaugh
    Purring:
      path: /Audio/Voice/felinidsound/murchanie.ogg # Мурчание
    Meow:
      path: /Audio/Voice/felinidsound/myaukan.ogg #Мяуканье
    Sneeze:
      collection: MaleSneezes
    Cough:
      collection: MaleCoughs
    Yawn:
      collection: MaleYawn
    Snore:
      collection: Snores
    Sigh:
      collection: MaleSigh
    Crying:
      collection: MaleCry
    Whistle:
      collection: Whistles
    Weh:
      collection: Weh
    Gasp:
      collection: MaleGasp
    DefaultDeathgasp:
      collection: MaleDeathGasp

- type: emoteSounds
  id: FemaleFelinid
  params:
    variation: 0.125
  sounds:
    Scream:
      path: /Audio/Voice/felinidsound/kriks.ogg #кастом крик
    Laugh:
      collection: FemaleLaugh
    Purring:
      path: /Audio/Voice/felinidsound/murchanie.ogg # Мурчание
    Meow:
      path: /Audio/Voice/felinidsound/myaukan.ogg #Мяуканье
    Sneeze:
      collection: FemaleSneezes
    Cough:
      collection: FemaleCoughs
    Yawn:
      collection: FemaleYawn
    Snore:
      collection: Snores
    Sigh:
      collection: FemaleSigh
    Crying:
      collection: FemaleCry
    Whistle:
      collection: Whistles
    Weh:
      collection: Weh
    Gasp:
      collection: FemaleGasp
    DefaultDeathgasp:
      collection: FemaleDeathGasp

#эмоции
- type: emote
  id: Purring
  name: chat-emote-msg-myaukan
  category: Vocal
  available: false
  icon: Interface/Emotes/scream.png #ЗАМЕНИТЬ!
  whitelist:
    components:
    - Vocal
  blacklist:
    components:
    - BorgChassis
  chatMessages: ["chat-emote-msg-myaukan"]
  chatTriggers:
   - мяукает


- type: emote
  id: Meow
  name: chat-emote-msg-murchanie
  category: Vocal
  available: false
  icon: Interface/Emotes/scream.png #ЗАМЕНИТЬ!
  whitelist:
    components:
    - Vocal
  blacklist:
    components:
    - BorgChassis
  chatMessages: ["chat-emote-msg-murchanie"]
  chatTriggers:
   - мурчит
